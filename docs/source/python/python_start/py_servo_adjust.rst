.. _py_servo_adjust:

7. 伺服电机调整（重要）
===========================================

.. warning::

    如果您的 PiDog 是 V2 版，请跳过本节，因为伺服电机角度已在组装过程中进行调整。

伺服电机的角度范围为 -90° 到 90°，但出厂时的角度是随机的，可能是 0°，也可能是 45°；如果我们直接用这种角度进行组装，机器人运行代码后可能会导致混乱，甚至更糟糕的情况——伺服电机卡住或烧毁。

因此，我们需要先将所有伺服电机的角度设置为 0°，然后再进行安装，这样无论伺服电机转向哪个方向，角度都处于中间位置。

#. 为确保伺服电机已经正确设置为 0°，首先将伺服臂插入伺服轴中，然后轻轻旋转摇臂到不同角度。这个伺服臂是为了让你清楚地看到伺服电机的旋转情况。

    .. image:: img/servo_arm.png  
        :align: center


#. 现在，在 ``examples/`` 文件夹中运行 ``servo_zeroing.py``。

    .. raw:: html

        <run></run>

    .. code-block::

        cd ~/pidog/examples
        sudo python3 servo_zeroing.py


    .. note::
        如果遇到错误，请尝试重新启用 Raspberry Pi 的 I2C 端口，参考： :ref:`i2c_spi_config` 。

#. 接下来，将伺服电机电缆插入 P11 端口，如下图所示，同时您将看到伺服臂旋转到某个位置（这是 0° 位置，可能是一个随机的位置，可能不垂直或平行）。

    .. image:: img/servo_pin11.jpg


#. 现在，移除伺服臂，确保伺服电机线仍然连接，且不要关闭电源。然后继续按照纸质说明进行组装。


.. note::

    * 在用伺服螺丝固定之前，请勿拔掉伺服电机电缆，固定后可以拔掉电缆。
    * 请勿在伺服电机通电时旋转伺服电机，以免损坏；如果伺服轴未以正确角度插入，请将伺服电机拔出并重新插入。
    * 在组装每个伺服电机之前，您需要将伺服电机电缆插入 PWM 引脚并打开电源，将其角度设置为 0°。

