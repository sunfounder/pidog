.. note::

    こんにちは！SunFounderのRaspberry Pi & Arduino & ESP32愛好者コミュニティへようこそ！Raspberry Pi、Arduino、ESP32に関する情報を、他の愛好者と一緒に深掘りしていきましょう。

    **なぜ参加するべきか？**

    - **専門的なサポート**：購入後の問題や技術的な課題を、コミュニティやチームのサポートで解決しましょう。
    - **学びと共有**：ヒントやチュートリアルを交換して、スキルを向上させましょう。
    - **限定プレビュー**：新製品の発表前にアクセスし、先取り情報を得ることができます。
    - **特別割引**：最新製品に対する限定割引を楽しみましょう。
    - **季節ごとのキャンペーンとプレゼント企画**：プレゼント企画やホリデーキャンペーンに参加しましょう。

    👉 私たちと一緒に探索し、創造を始めませんか？[|link_sf_facebook|]をクリックして、今すぐ参加しましょう！

FAQ
==========

Q1: PiDog にはどのバージョンがありますか？
------------------------------------------------------

PiDog には **Standard** バージョンと **V2** バージョンがあります：

* **Standard バージョン**：Raspberry Pi 3B+/4B/Zero 2W に対応。Raspberry Pi 5 には **非対応**。  
* **V2 バージョン**：Raspberry Pi 3/4/5 および Zero 2W に対応。Robot HAT とサーボドライバー回路が改良され、Pi 5 への電力供給も強化されています。  
* **電源供給**：V2 は消費電力の大きいアプリケーション向けに電源管理が強化されています。

Q2: 必要なモジュールはどのようにインストールしますか？
---------------------------------------------------------------

.. code-block:: bash

    # Robot HAT
    git clone -b 2.5.x https://github.com/sunfounder/robot-hat.git --depth 1
    cd robot-hat && sudo python3 install.py

    # Vilib
    git clone https://github.com/sunfounder/vilib.git
    cd vilib && sudo python3 install.py

    # PiDog
    git clone https://github.com/sunfounder/pidog.git --depth 1
    cd pidog && sudo python3 setup.py install

音声が出ない場合は以下を実行してください：

.. code-block:: bash

    # I2S オーディオ
    cd ~/robot-hat
    sudo bash i2samp.sh

必要に応じて複数回実行します。

----

Q3: 最初のデモはどのように実行しますか？
------------------------------------------------

.. code-block:: bash

    cd ~/pidog/examples
    sudo python3 1_wake_up.py

PiDog が起動し、座ってしっぽを振ります。

----

Q4: どのような組み込みアクションやサウンドがありますか？
------------------------------------------------------------------

* アクション： ``stand``、 ``sit``、 ``wag_tail``、 ``trot`` など  
* サウンド： ``bark``、 ``howling``、 ``pant`` など

実行コマンド：

.. code-block:: bash

    sudo python3 2_function_demonstration.py

数字を入力してアクションをトリガーします。

----

Q5: PiDog はセンサーをどのように使いますか？
-------------------------------------------------

* **超音波センサー**：障害物回避と巡回  
* **タッチセンサー**：前側のタッチ＝警戒、後ろのタッチ＝喜び  
* **音源方向**：音の方向に反応します

----

Q6: PiDog はどのような AI 機能をサポートしていますか？
------------------------------------------------------

PiDog は **TTS**、**STT**、および **LLM** と統合されています：

* **TTS**：Espeak、Pico2Wave、Piper、OpenAI  
* **STT**：Vosk（オフライン）  
* **LLM**：Ollama（ローカル）、OpenAI（オンライン）

----

Q7: サーボのキャリブレーションは必要ですか？
---------------------------------------------

はい。**Standard バージョンと V2 バージョンの両方でキャリブレーションが必要** です。これにより安定した動作を実現し、破損を防ぎます。

**V2 バージョン**

Robot HAT 上の **ゼロリセットボタン** を押すと、すべてのサーボが自動的に 0° に設定されます。スクリプトを実行せずにゼロ調整が可能です。

**Standard バージョン**

組み立て前にゼロ調整スクリプトを実行します：

.. code-block:: bash

   cd ~/pidog/examples
   sudo python3 servo_zeroing.py

組み立て後（両バージョン共通）、サーボ角度を手動で確認・微調整し、キャリブレーション定規に合わせて各脚を揃えます。これにより、動作の不安定化、引っかかり、機械的ストレスを防ぎ、スムーズな歩行と正確な姿勢制御を実現します。

----

Q8: なぜ PiDog の歩行が不安定なのですか？
-----------------------------------------------

* すべてのサーボが 0° の状態で取り付けられていることを確認してください。  
* サーボ角度がキャリブレーション定規（60°／90°）と一致しているか確認してください。  
* バッテリーが十分に充電されていることを確認してください。  
* サーボのネジをしっかりと締めてください。

----

Q9: カメラが動作しないのはなぜですか？
--------------------------------------

* カメラケーブルが **CSI インターフェースにしっかりと差し込まれ**、黒いロックタブが固定されていることを確認してください。  
* カメラの抜き差しは、Raspberry Pi の電源を **オフにしてから** 行ってください（破損防止）。  
* ``libcamera-hello`` または ``raspistill`` を使用してカメラが画像を出力するかテストしてください。  
* ケーブルが緩んでいたり正しく接続されていない場合は、再度差し込み直してください。

----

Q10: スピーカーが動作しないのはなぜですか？
-----------------------------------------------------

* 音量がミュートされていないか、I2S オーディオドライバがインストールされているか確認してください。  
* 音が出ない場合は、以下のコマンドで I2S を再設定します：

.. code-block:: bash

    cd ~/robot-hat
    sudo bash i2samp.sh

* スクリプト実行後、Raspberry Pi を再起動してください。

----

Q11: マイクが動作しないのはなぜですか？
--------------------------------------------------

* 以下のコマンドでシステムがマイクを認識しているか確認します：

.. code-block:: bash

    arecord -l

* 以下で録音テストを行います：

.. code-block:: bash

    arecord -D plughw:1,0 -f cd test.wav

* 音声が録音されない場合は、正しい入力デバイスが選択されているか確認し、 ``alsamixer`` で入力音量を調整してください。  
* 他のプロセスがオーディオ入力デバイスを使用していないか確認してください。

----

Q12: 音源方向センサーが動作しないのはなぜですか？
-------------------------------------------------------

* 音源方向センサーが正しい SPI インターフェースに接続されていることを確認してください。  
* すべてのケーブルがしっかりと接続され、逆向きになっていないか確認してください。  
* 電源供給が安定していること、センサーが遮られていないことを確認してください。  
* デバイスを再起動し、センサーのサンプルスクリプトを再実行してください。

----

Q13: タッチセンサーが反応しないのはなぜですか？
----------------------------------------------------------

* タッチセンサーのケーブルがしっかりと接続されていることを確認してください。  
* **LOW 信号** はセンサーが触られている状態を意味します。  
* ``gpio readall`` または Python コードで GPIO ピンの信号をテストしてください。  
* 配線と接続方向を再確認してください。

----

Q14: LED ボードが点灯しない、または点滅が不正なのはなぜですか？
---------------------------------------------------------------------

* LED ボードが **3.3V** で給電され、I2C ポートに接続されていることを確認してください。  
* Raspberry Pi で **I2C が有効** になっていることを確認してください。  
* 次のコマンドでボードが認識されているか確認します：

.. code-block:: bash

    i2cdetect -y 1

* デバイスが表示されない場合は、配線を再確認し、Pi を再起動してください。

----

Q15: PiDog はどのように電源を供給しますか？
-----------------------------------------------------

* 5V 3A の Type-C 電源アダプタを使用します。  
* 赤いランプ＝充電中、消灯＝充電完了です。  
* 充電しながら動作させることができます。  
* インジケータが点灯しない場合は、まず充電してください。

----
