
14. ä½¿ç”¨ Espeak ä¸ Pico2Wave è¿›è¡Œ TTS
=================================================

åœ¨æœ¬è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Raspberry Pi å†…ç½®çš„ä¸¤ç§æ–‡æœ¬è½¬è¯­éŸ³ï¼ˆTTSï¼‰å¼•æ“ â€”â€” **Espeak** å’Œ **Pico2Wave**ï¼Œè®© Pidog å¼€å£è¯´è¯ ğŸ¶ã€‚

è¿™ä¸¤ç§å¼•æ“éƒ½å¯ç¦»çº¿è¿è¡Œï¼Œä½†éŸ³è‰²å’Œç‰¹æ€§æœ‰æ‰€ä¸åŒï¼š

* **Espeak**ï¼šæå…¶è½»é‡ã€é€Ÿåº¦å¿«ï¼Œä½†å£°éŸ³è¾ƒä¸ºæœºæ¢°ã€‚å¯ä»¥è°ƒæ•´éŸ³é‡ã€è¯­é€Ÿã€éŸ³é«˜ç­‰å‚æ•°ã€‚  
* **Pico2Wave**ï¼šå£°éŸ³æ›´è‡ªç„¶æµç•…ï¼Œä½†å¯è°ƒå‚æ•°è¾ƒå°‘ï¼Œä»…èƒ½è®¾ç½®è¯­è¨€ã€‚

ä½ å°†ç›´è§‚æ„Ÿå—åˆ°ä¸¤è€…åœ¨ **éŸ³è´¨** ä¸ **å¯é…ç½®æ€§** ä¸Šçš„å·®å¼‚ã€‚

----

åœ¨å¼€å§‹ä¹‹å‰
----------------

è¯·ç¡®ä¿ä½ å·²å®Œæˆï¼š

* :ref:`install_all_modules` â€” å®‰è£… ``robot-hat``ã€``vilib``ã€``pidog`` æ¨¡å—ï¼Œå¹¶è¿è¡Œ ``i2samp.sh`` è„šæœ¬ã€‚

æµ‹è¯• Espeak
--------------------

Espeak æ˜¯ Raspberry Pi OS è‡ªå¸¦çš„è½»é‡çº§ TTS å¼•æ“ã€‚  
è™½ç„¶å£°éŸ³åæœºæ¢°ï¼Œä½†å®ƒçš„å¯è°ƒèŠ‚æ€§å¾ˆé«˜ï¼Œæ”¯æŒéŸ³é‡ã€è¯­é€Ÿã€éŸ³é«˜ç­‰è®¾ç½®ã€‚

**æµ‹è¯•æ­¥éª¤**ï¼š

* åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼š

  .. code-block:: bash
  
      cd ~/pidog/examples
      sudo nano test_tts_espeak.py

* ç²˜è´´ä»¥ä¸‹ä»£ç ï¼Œå¹¶é€šè¿‡ ``Ctrl+X`` â†’ ``Y`` â†’ ``Enter`` ä¿å­˜é€€å‡ºï¼š

  .. code-block:: python
  
      from pidog.tts import Espeak

      tts = Espeak()
  
      # å¯é€‰çš„å£°éŸ³è°ƒèŠ‚
      # tts.set_amp(100)   # 0 åˆ° 200
      # tts.set_speed(150) # 80 åˆ° 260
      # tts.set_gap(5)     # 0 åˆ° 200
      # tts.set_pitch(50)  # 0 åˆ° 99

      # ç®€å•æµ‹è¯•
      tts.say("Hello! I'm Espeak TTS.")
  
* è¿è¡Œç¨‹åºï¼š

  .. code-block:: bash

     sudo python3 test_tts_espeak.py

* ä½ å°†å¬åˆ° Pidog è¯´ï¼šâ€œHello! I'm Espeak TTS.â€  
* å–æ¶ˆæ³¨é‡Šå¹¶è°ƒæ•´ ``amp``ã€``speed``ã€``gap``ã€``pitch`` ä»¥ä½“éªŒä¸åŒçš„è¯­éŸ³æ•ˆæœã€‚

----

æµ‹è¯• Pico2Wave
---------------------

Pico2Wave çš„å£°éŸ³æ›´è‡ªç„¶ï¼Œä½†çµæ´»æ€§è¾ƒä½ï¼Œåªèƒ½è®¾ç½®è¯­è¨€ï¼Œæ— æ³•è°ƒèŠ‚éŸ³é«˜æˆ–è¯­é€Ÿã€‚

**æµ‹è¯•æ­¥éª¤**ï¼š

* åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼š

  .. code-block:: bash

      cd ~/pidog/examples
      sudo nano test_tts_pico2wave.py

* ç²˜è´´ä»¥ä¸‹ä»£ç å¹¶ä¿å­˜é€€å‡ºï¼š

  .. code-block:: python
  
      from pidog.tts import Pico2Wave
  
      tts = Pico2Wave()
  
      tts.set_lang('en-US')  # en-US, en-GB, de-DE, es-ES, fr-FR, it-IT
  
      # ç®€å•æµ‹è¯•
      tts.say("Hello! I'm Pico2Wave TTS.")

* è¿è¡Œç¨‹åºï¼š

  .. code-block:: bash

    sudo python3 test_tts_pico2wave.py

* ä½ å°†å¬åˆ° Pidog è¯´ï¼šâ€œHello! I'm Pico2Wave TTS.â€  
* å°è¯•å°†è¯­è¨€æ”¹ä¸º ``es-ES`` ï¼ˆè¥¿ç­ç‰™è¯­ï¼‰ç­‰ï¼Œä½“éªŒä¸åŒè¯­éŸ³æ•ˆæœã€‚

----

æ•…éšœæ’æŸ¥
-------------------

* **è¿è¡Œ Espeak æˆ– Pico2Wave æ²¡æœ‰å£°éŸ³**

  * æ£€æŸ¥æ‰¬å£°å™¨/è€³æœºæ˜¯å¦æ­£ç¡®è¿æ¥ï¼Œå¹¶ç¡®ä¿éŸ³é‡æœªé™éŸ³ã€‚  
  * åœ¨ç»ˆç«¯ä¸­è¿è¡Œå¿«é€Ÿæµ‹è¯•ï¼š

    .. code-block:: bash

       espeak "Hello world"
       pico2wave -w test.wav "Hello world" && aplay test.wav

  å¦‚æœä¾ç„¶æ²¡æœ‰å£°éŸ³ï¼Œé—®é¢˜å‡ºåœ¨ **éŸ³é¢‘è¾“å‡º** è€Œé Python ä»£ç ã€‚

* **Espeak å£°éŸ³å¤ªå¿«æˆ–å¤ªæœºæ¢°**

  * å°è¯•åœ¨ä»£ç ä¸­è°ƒæ•´å‚æ•°ï¼š

    .. code-block:: python

       tts.set_speed(120)   # å‡æ…¢è¯­é€Ÿ
       tts.set_pitch(60)    # æ”¹å˜éŸ³é«˜

* **è¿è¡Œä»£ç æ—¶æç¤ºæƒé™ä¸è¶³**

  * å°è¯•ä½¿ç”¨ ``sudo`` è¿è¡Œï¼š

    .. code-block:: bash

       sudo python3 test_tts_espeak.py


Espeak ä¸ Pico2Wave å¯¹æ¯”
-------------------------------------

.. list-table::
   :widths: 20 40 40
   :header-rows: 1

   * - ç‰¹æ€§
     - Espeak
     - Pico2Wave
   * - è¯­éŸ³è´¨é‡
     - æœºæ¢°æ„Ÿã€åˆæˆéŸ³
     - æ›´è‡ªç„¶ã€æ›´æ¥è¿‘äººå£°
   * - è¯­è¨€æ”¯æŒ
     - é»˜è®¤è‹±è¯­
     - å°‘é‡å¸¸ç”¨è¯­è¨€
   * - å¯è°ƒèŠ‚æ€§
     - æ”¯æŒï¼ˆé€Ÿåº¦ã€éŸ³é«˜ç­‰ï¼‰
     - ä¸æ”¯æŒï¼ˆåªèƒ½åˆ‡æ¢è¯­è¨€ï¼‰
   * - æ€§èƒ½
     - éå¸¸è½»é‡ã€é€Ÿåº¦å¿«
     - ç¨æ…¢ï¼Œå ç”¨æ›´å¤šèµ„æº
